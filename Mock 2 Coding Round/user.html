<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>user page</title>
</head>
<body>
    <h1>REGISTRATION</h1>
    <form id="registration">
        <label for="name">Name</label>
        <input type="text" id="name" name="name" required>
        <label for="age">Age</label>
        <input type="number" id="age" name="age" required>
        <label for="Place">Place</label>
        <input type="text" id="place" name="place" required>

        <label for="batch">Batch Name: </label>
        <select name="batch" id="batch">
            <option value="">WEB-13</option>
            <option value="">WEB-14</option>
            <option value="">WEB-15</option>
        </select>
        <label for="profession">profession :</label>
        <select name="profession" id="profession">
        <option value="FSD">FSD</option>
        <option value="Frontend">Frontend</option>
        <option value="Backend">Backend</option>
        <option value="Student">Student</option>
       
        </select>
        <button type="submit">Submit</button>
    </form>
    <a href="admin.html">
        <button>Admin section</button>
    </a>
</body>
</html>
<script>
    let form = document.querySelector("#registration")
    form.addEventListener("submit", async(event)=>{
        event.preventDefault()

        let name= form.elements.name.value
        let age= form.elements.age.value
        let place= form.elements.place.value
        let batch = form.elements.place.value
        let profession= form.elements.profession.value


        let res= await fetch("http://localhost:3000/user", {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
            },
            body : JSON.stringify({
                name,
                age,
                place,
                batch,
                profession
            })
        })
        if(res.ok)
        {
            alert("successfully registered")
            form.reset()
        }
        else
        {
            alert("registration failed")
        }
    })
</script>